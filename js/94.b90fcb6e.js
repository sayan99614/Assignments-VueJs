"use strict";(self["webpackChunkpractical_01"]=self["webpackChunkpractical_01"]||[]).push([[94],{8094:function(a,e,t){t.r(e),t.d(e,{default:function(){return X}});var l=t(3396);const s={key:0,class:"text-center mt-5"},i={key:1,class:"container mt-2"},n={class:"row"};function r(a,e,t,r,d,o){const c=(0,l.up)("Loading"),m=(0,l.up)("CarForm"),u=(0,l.up)("GalleryCard");return d.isLoading?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(c)])):((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(m,{addCar:o.addCar,showModel:d.showModel,handleModel:o.handleModel,initialValues:d.initialValues},null,8,["addCar","showModel","handleModel","initialValues"]),(0,l._)("div",n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.carsInfo,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"col-sm-4",key:a.name},[(0,l.Wm)(u,{carImage:a.image,carName:a.name,carDetails:a.details,carPrice:a.price,carId:a.id,editCar:o.editCar,deleteCar:o.deleteCar,onGoToSingleCar:e=>o.singleCar(a.id)},null,8,["carImage","carName","carDetails","carPrice","carId","editCar","deleteCar","onGoToSingleCar"])])))),128))])]))}var d=t(9242),o=t(7139);const c={class:"card shadow-sm mb-3 mt-2"},m=["src"],u={class:"card-body"},h={class:"card-title"},g={class:"card-text"},p={class:"d-flex justify-content-between mt-3 mb-1"},f={class:"mt-1"},C=(0,l.Uk)("     ");function _(a,e,t,s,i,n){return(0,l.wg)(),(0,l.j4)(d.uT,{name:"list",appear:""},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l._)("img",{src:t.carImage,alt:"car-img",class:"img-fluid card-img-top"},null,8,m),(0,l._)("div",u,[(0,l._)("h5",h,(0,o.zw)(t.carName),1),(0,l._)("p",g,(0,o.zw)(t.carDetails.slice(0,10))+"...",1),(0,l._)("div",p,[(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-info text-white",onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))}," Info ")]),(0,l._)("div",f,[(0,l._)("i",{onClick:e[1]||(e[1]=a=>t.editCar(t.carId)),class:"fa-solid fa-lg text-success fa-pen-to-square"}),C,(0,l._)("i",{onClick:e[2]||(e[2]=a=>t.deleteCar(t.carName,t.carId)),class:"fa-solid text-danger fa-lg fa-trash"})])])])])])),_:1})}var b={name:"GalleryCard",data(){return{}},methods:{handleClick(){this.$emit("goToSingleCar")}},props:{carName:String,carImage:String,carDetails:String,carPrice:String,carId:Number,editCar:Function,deleteCar:Function}},v=t(89);const w=(0,v.Z)(b,[["render",_],["__scopeId","data-v-6c767cca"]]);var y=w;const D=a=>((0,l.dD)("data-v-fde98cbe"),a=a(),(0,l.Cn)(),a),k={class:"d-flex justify-content-end"},I={class:"modal-dialog"},M={class:"modal-content"},F={class:"modal-header"},x={key:0,class:"modal-title"},S={key:1,class:"modal-title"},W=D((()=>(0,l._)("span",{"aria-hidden":"true"},"×",-1))),V=[W],Z={class:"modal-body"},H={class:"mb-2"},L=D((()=>(0,l._)("label",{class:"form-label"},"Car Name",-1))),B={class:"mb-2"},N=D((()=>(0,l._)("label",{class:"form-label"},"Car Image",-1))),$={class:"mb-2"},E=D((()=>(0,l._)("label",{class:"form-label"},"Car Price",-1))),T={class:"mb-2"},j=D((()=>(0,l._)("label",{for:"exampleInputPassword1",class:"form-label"},"Car Details",-1))),q=D((()=>(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1)));function G(a,e,t,s,i,n){const r=(0,l.up)("Field"),c=(0,l.up)("ErrorMessage"),m=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",k,[(0,l._)("button",{onClick:e[0]||(e[0]=a=>n.handelModelandResetFields(!0)),class:"btn btn-primary mb-3"}," Add car ")]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#model"},[(0,l.Wm)(d.uT,{name:"form",onAfterEnter:n.addBackgroundClass,onBeforeLeave:n.removeBackgroundClass},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",{class:(0,o.C_)(i.styles),id:"formmodel"},[(0,l._)("div",I,[(0,l._)("div",M,[(0,l._)("div",F,[t.formHeading?((0,l.wg)(),(0,l.iD)("h5",x,(0,o.zw)(t.formHeading),1)):((0,l.wg)(),(0,l.iD)("h5",S,"Add Car")),(0,l._)("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal",onClick:e[1]||(e[1]=a=>n.handelModelandResetFields(!1)),"aria-label":"Close"},V)]),(0,l._)("div",Z,[(0,l.Wm)(m,{onSubmit:n.handleSubmit,ref:"form","validation-schema":i.schema,"initial-values":t.initialValues},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{type:"hidden",name:"id",class:"form-control"}),(0,l._)("div",H,[L,(0,l.Wm)(r,{type:"text",name:"name",class:"form-control"}),(0,l.Wm)(c,{class:"text-danger",name:"name"})]),(0,l._)("div",B,[N,(0,l.Wm)(r,{type:"text",name:"image",class:"form-control"}),(0,l.Wm)(c,{class:"text-danger",name:"image"})]),(0,l._)("div",$,[E,(0,l.Wm)(r,{type:"number",name:"price",class:"form-control"}),(0,l.Wm)(c,{class:"text-danger",name:"price"})]),(0,l._)("div",T,[j,(0,l.Wm)(r,{as:"textarea",class:"form-control",name:"details",rows:"2"}),(0,l.Wm)(c,{class:"text-danger",name:"details"})]),q])),_:1},8,["onSubmit","validation-schema","initial-values"])])])])],2),[[d.F8,t.showModel]])])),_:1},8,["onAfterEnter","onBeforeLeave"])]))],64)}var P=t(5708),R=t(6542),A={name:"CarForm",components:{Field:P.gN,Form:P.l0,ErrorMessage:P.Bc},data(){const a=R.Ry({id:R.Z_(),name:R.Z_().required("car name shouldn't be empty"),details:R.Z_().required("car details shouldn't be empty").min(30).max(120),image:R.Z_().required("car image url shouldn't be empty").url("imge should be in url format"),price:R.Z_().required("car price shouldn't be empty").matches("^[0-9]+$","price must be a number")});return{schema:a,styles:["model"]}},props:{addCar:Function,showModel:Boolean,handleModel:Function,initialValues:Object,handleFormHeading:Function,formHeading:String},methods:{handleSubmit(a,e){this.addCar(a),e.resetForm(),this.handleModel(!1)},handelModelandResetFields(a){this.handleModel(a),this.$refs.form.resetForm()},addBackgroundClass(){this.styles.push("modelbackground")},removeBackgroundClass(){this.styles.pop("modelbackground")}}};const z=(0,v.Z)(A,[["render",G],["__scopeId","data-v-fde98cbe"]]);var Y=z,K=t(6265),O=t.n(K),U=t(1110),J={name:"HomeComponent",components:{GalleryCard:y,CarForm:Y,Loading:U.Z},created(){this.fetchData()},data(){return{initialValues:{id:"",name:"",details:"",image:"",price:void 0},showModel:!1,carsInfo:[],isLoading:!0}},mounted(){window.addEventListener("click",(a=>{"formmodel"===a.target.id&&(this.showModel=!1)}))},methods:{fetchData(){O().get("https://testapi.io/api/dartya/resource/cardata").then((a=>{this.carsInfo=a.data.data,this.isLoading=!1})).catch((a=>{console.log(a),alert("Something went wrong please try again")}))},sendData(a){O().post("https://testapi.io/api/dartya/resource/cardata",a).then((a=>{console.log(a),201===a.status&&this.fetchData()})).catch((a=>{console.log(a),alert("Something went wrong please try again")}))},deleteData(a){O()["delete"](`https://testapi.io/api/dartya/resource/cardata/${a}`).then((a=>{204===a.status&&this.fetchData()})).catch((a=>{console.log(a),alert("can't delete at this moment")}))},putData(a,e){O().put(`https://testapi.io/api/dartya/resource/cardata/${a}`,e).then((a=>{200===a.status&&this.fetchData()})).catch((a=>{console.log(a),alert("cannot update at this moment")}))},addCar(a){a.id?(this.putData(a.id,a),this.resetInitialValues()):(a.id=(new Date).getTime().toString(36),console.log(a),this.sendData(a))},editCar(a){this.formHeading="Edit Car";const e=this.carsInfo.find((e=>e.id===a));this.initialValues=e,this.showModel=!0},deleteCar(a,e){this.deleteData(e)},handleModel(a){this.formHeading="",this.showModel=a,this.resetInitialValues()},resetInitialValues(){this.initialValues={id:"",name:"",description:"",image:"",price:""}},singleCar(a){this.$router.push(`/car/${a}`)}}};const Q=(0,v.Z)(J,[["render",r]]);var X=Q},1110:function(a,e,t){t.d(e,{Z:function(){return b}});var l=t(3396);const s=a=>((0,l.dD)("data-v-770a3ce6"),a=a(),(0,l.Cn)(),a),i={class:"lds-roller"},n=s((()=>(0,l._)("div",null,null,-1))),r=s((()=>(0,l._)("div",null,null,-1))),d=s((()=>(0,l._)("div",null,null,-1))),o=s((()=>(0,l._)("div",null,null,-1))),c=s((()=>(0,l._)("div",null,null,-1))),m=s((()=>(0,l._)("div",null,null,-1))),u=s((()=>(0,l._)("div",null,null,-1))),h=s((()=>(0,l._)("div",null,null,-1))),g=[n,r,d,o,c,m,u,h];function p(a,e,t,s,n,r){return(0,l.wg)(),(0,l.iD)("div",i,g)}var f={name:"LoadingComponent"},C=t(89);const _=(0,C.Z)(f,[["render",p],["__scopeId","data-v-770a3ce6"]]);var b=_}}]);
//# sourceMappingURL=94.b90fcb6e.js.map